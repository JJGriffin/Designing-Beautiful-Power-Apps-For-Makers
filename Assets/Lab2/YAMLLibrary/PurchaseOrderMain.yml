Screens:
  MainScreen:
    Properties:
      BackgroundImage: ='07_readyconfetti_light'
      Fill: =ColorValue(nfBackgroundColor)
      ImagePosition: =ImagePosition.Fill
      LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    Children:
      - cntMainVertical:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            DropShadow: =DropShadow.None
            Height: =Parent.Height-(Parent.Height*0.05)
            LayoutDirection: =LayoutDirection.Vertical
            Width: =Parent.Width-(Parent.Width*0.05)
            X: =(Parent.Width - Self.Width) / 2
            Y: =(Parent.Height - Self.Height) / 2
          Children:
            - cntMainHeader:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  FillPortions: =0
                  Height: =100
                  LayoutDirection: =LayoutDirection.Horizontal
                  Width: =Parent.Width
                Children:
                  - cntHeaderVertical:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        LayoutDirection: =LayoutDirection.Vertical
                      Children:
                        - htmlHeaderTitle:
                            Control: HtmlViewer@2.1.0
                            Properties:
                              Font: =nfFont
                              Height: =Parent.Height
                              HtmlText: "=$\"<div style='font-size: 28px; font-family: Inter, Open Sans; font-weight: bold; color: black;'> \r\n  <!-- Welcome text stays black -->\r\n  Welcome \r\n  \r\n  <a style='font-size: 28px; font-family: Inter, Open Sans; font-weight: bold; \r\n            /* Grape gradient for name */\r\n            background: linear-gradient(90deg, \r\n              #7f1d1d,  /* Deep red (Cabernet) */\r\n              #9b1c31,  /* Wine red */\r\n              #a21caf  /* Dark magenta */\r\n            ); \r\n            -webkit-background-clip: text; \r\n            -webkit-text-fill-color: transparent;'> \r\n    {  First(Split(User().FullName,\" \")).Value }! \r\n  </a> \r\n</div>\""
                              Size: =10.5
                              Width: =Parent.Width
                  - imgCohoLogo:
                      Control: Image@2.2.3
                      Properties:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledFill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.Height
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        Image: ='Coho-Winery'
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
            - cntHTMLBlur:
                Control: GroupContainer@1.3.0
                Variant: ManualLayout
                Properties:
                  Width: =Parent.Width
                Children:
                  - htmlBlur:
                      Control: HtmlViewer@2.1.0
                      Properties:
                        Font: =Font.'Segoe UI'
                        Height: =Parent.Height
                        HtmlText: |-
                          =$"<div style='
                            background: rgba(255,255,255,0.2);
                            border-radius: 16px;
                            box-shadow: 0 4px 4px rgba(0,0,0,0.1);
                            backdrop-filter: blur(5px);
                            -webkit-backdrop-filter: blur(5px);
                            border: 1px solid rgba(255,255,255,0.3);

                            /* Fill the HTMLText control exactly */
                            position: absolute; inset: 0;
                            width: 100%; height: 100%;
                            box-sizing: border-box;

                            padding: 10px;
                            overflow: hidden;
                            color: white;
                            font-family: Poppins, sans-serif;
                          '>"
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =10.5
                        Width: =Parent.Width
                  - cntMainBody:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        Width: =Parent.Width
                      Children:
                        - cntBodyGalleries:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              FillPortions: =1 // Responsive behavior
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =12
                              LayoutWrap: =true // allows columns to wrap on narrow widths
                              PaddingBottom: =4 // Let the row take all remaining height
                              PaddingLeft: =8
                              PaddingRight: =8
                              PaddingTop: =4
                            Children:
                              - cntPurchaseOrders:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    LayoutAlignItems: =LayoutAlignItems.Stretch
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutGap: =8
                                    LayoutMinHeight: =Parent.Height
                                    LayoutMinWidth: =260 // lets them wrap on narrow screens
                                    PaddingBottom: =8
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PaddingTop: =8
                                  Children:
                                    - cntPOHeader:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =50
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutGap: =3
                                          LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                          LayoutMinHeight: =30
                                          PaddingLeft: =10
                                          PaddingRight: =10
                                        Children:
                                          - lblTitlePurchaseOrders:
                                              Control: FluentV8/Label@1.8.6
                                              Properties:
                                                AlignInContainer: =AlignInContainer.Stretch
                                                Alignment: =Align.Justify
                                                AutoHeight: =true
                                                Color: =RGBA(92, 37, 4, 1)
                                                FillPortions: =1
                                                FontSize: =16
                                                FontWeight: =FontWeight.Bold
                                                LayoutMinWidth: =100
                                                OnSelect: =Navigate(PurchaseOrders)
                                                Text: ="Purchase Orders"
                                                TextRole: ='Label.TextRole'.Heading2
                                                Wrap: =false
                                          - icnAddDocument:
                                              Control: Classic/Icon@2.5.0
                                              Properties:
                                                BorderColor: =RGBA(0, 0, 0, 0)
                                                Color: =RGBA(92, 37, 4, 1)
                                                DisabledColor: =RGBA(220, 220, 220, 1)
                                                DisabledFill: =RGBA(0, 0, 0, 0)
                                                Height: =Parent.Height
                                                HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                HoverColor: =ColorFade(Self.Color, -30%)
                                                HoverFill: =RGBA(0, 0, 0, 0)
                                                Icon: =Icon.AddDocument
                                                LayoutMinHeight: =Parent.Height
                                                OnSelect: =ClearCollect(colPurchaseOrders, 'Purchase Orders')
                                                PaddingBottom: =15
                                                PaddingLeft: =15
                                                PaddingRight: =15
                                                PaddingTop: =15
                                                PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                PressedColor: =ColorFade(Self.Color, -30%)
                                                PressedFill: =RGBA(0, 0, 0, 0)
                                                Width: =50
                                    - recDividerPurchaseOrders:
                                        Control: Rectangle@2.3.0
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Stretch
                                          BorderColor: =RGBA(166, 166, 166, 1)
                                          BorderStyle: =BorderStyle.None
                                          BorderThickness: =2
                                          DisabledFill: =RGBA(166, 166, 166, 1)
                                          Fill: =RGBA(245,245,245,1)
                                          FocusedBorderColor: =RGBA(0, 120, 212, 1)
                                          Height: =1
                                          HoverFill: =RGBA(0, 120, 212, 1)
                                          PressedFill: =RGBA(0, 120, 212, 1)
                                    - galPurchaseOrders:
                                        Control: Gallery@2.15.0
                                        Variant: Vertical
                                        Properties:
                                          BorderColor: =RGBA(166, 166, 166, 1)
                                          FocusedBorderColor: =RGBA(0, 120, 212, 1)
                                          FocusedBorderThickness: =2
                                          Items: =colPurchaseOrders
                                          LayoutMinWidth: =Parent.Width
                                          TemplateSize: =55
                                          Transition: |-
                                            =Transition.Pop // optional: bubble selection to item container
                                          Width: =Parent.Width
                                        Children:
                                          - cntGalleryPOHorizontal:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                DropShadow: =DropShadow.None
                                                Height: =Parent.TemplateHeight
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                                Width: =Parent.TemplateWidth
                                              Children:
                                                - cntGalleryPOVertical:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      DropShadow: =DropShadow.None
                                                      Height: =48
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      LayoutMinHeight: =Parent.Height
                                                      PaddingLeft: =15
                                                      PaddingRight: =10
                                                    Children:
                                                      - lblPurchaseOrderNumber:
                                                          Control: FluentV8/Label@1.8.6
                                                          Properties:
                                                            AutoHeight: =true
                                                            Color: =RGBA(0,0,0,1)
                                                            FillPortions: =1
                                                            FontWeight: =FontWeight.Semibold
                                                            Height: =24
                                                            LayoutMinHeight: =Parent.Height/2
                                                            TabIndex: =-1
                                                            Text: =ThisItem.coh_purchaseordernumber
                                                            VerticalAlignment: =VerticalAlign.Middle
                                                            Width: =344
                                                            Wrap: =false
                                                            X: =22
                                                      - lblPOVendorInfo:
                                                          Control: FluentV8/Label@1.8.6
                                                          Properties:
                                                            FillPortions: =1
                                                            FontSize: =9
                                                            FontWeight: =FontWeight.Normal
                                                            Height: =28
                                                            LayoutMinHeight: =Parent.Height/2
                                                            TabIndex: =-1
                                                            Text: =ThisItem.coh_account.name & " || £" & OpenAPIDocumentonAzureFunctions.RetrieveRemainingValue(ThisItem.coh_purchaseordernumber).remainingValue
                                                            VerticalAlignment: =VerticalAlign.Top
                                                            Width: =355
                                                            X: =5
                                                            Y: =20
                                                - icnExpandPO:
                                                    Control: Classic/Icon@2.5.0
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Stretch
                                                      BorderColor: =RGBA(0, 0, 0, 0)
                                                      Color: =RGBA(92, 37, 4, 1)
                                                      DisabledColor: =RGBA(220, 220, 220, 1)
                                                      DisabledFill: =RGBA(0, 0, 0, 0)
                                                      Height: =Parent.Height
                                                      HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                      HoverColor: =ColorFade(Self.Color, -30%)
                                                      HoverFill: =RGBA(0, 0, 0, 0)
                                                      Icon: =Icon.ExpandView
                                                      LayoutMinHeight: =Parent.Height
                                                      PaddingBottom: =15
                                                      PaddingLeft: =15
                                                      PaddingRight: =15
                                                      PaddingTop: =15
                                                      PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                      PressedColor: =ColorFade(RGBA(0,120,212,1), -30%)
                                                      PressedFill: =RGBA(0, 0, 0, 0)
                                                      Width: =50
                              - cntMyPurchaseOrders:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    LayoutAlignItems: =LayoutAlignItems.Stretch
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutGap: =8
                                    LayoutMinHeight: =Parent.Height
                                    LayoutMinWidth: =260 // lets them wrap on narrow screens
                                    PaddingBottom: =8
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PaddingTop: =8